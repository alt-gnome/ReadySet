modules:
  - type: packages
    body:
      install:
        - phrog

  - type: systemd
    body:
      targets:
        - phosh
      enabled: false

  - type: systemd
    body:
      targets:
        - phrog
      enabled: true

  - name: Install ReadySet
    type: git
    body:
      url: https://altlinux.space/alt-gnome/ReadySet.git
      command: |
        meson setup _build -Dpassword_check_backend=passwdqc -Dis_devel --prefix=/usr
        meson install -C _build
      deps:
        - shadow-utils
        - accountsservice
        - libaccountsservice.so.0()(64bit)
        - libadwaita-1.so.0()(64bit)
        - libgee-0.8.so.2()(64bit)
        - libgio-2.0.so.0()(64bit)
        - libglib-2.0.so.0()(64bit) 
        - libgnome-desktop-4.so.2()(64bit)
        - libgobject-2.0.so.0()(64bit)
        - libgtk-4.so.1()(64bit)
        - libpasswdqc.so.1()(64bit)
        - libibus-1.0.so.5()(64bit)
        - libpeas-2.so.0()(64bit)
        - libpolkit-gobject-1.so.0()(64bit)
        - gnome-control-center-data
      build-deps:
        - gir(Gtk)=4.0
        - gir(Peas)
        - pkgconfig(accountsservice)
        - pkgconfig(gee-0.8)
        - pkgconfig(gio-unix-2.0)
        - pkgconfig(gnome-desktop-4)
        - pkgconfig(ibus-1.0)
        - pkgconfig(libadwaita-1)
        - pkgconfig(libpeas-2)
        - pkgconfig(passwdqc)
        - pkgconfig(polkit-gobject-1)
        - pkgconfig(pwquality)
        - pkgconfig(systemd)
        - blueprint-compiler
        - gobject-introspection-devel
        - gcc14
        - meson
        - vala
