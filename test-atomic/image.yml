modules:
  - type: packages
    body:
      install:
        - phrog

  - type: systemd
    body:
      targets:
        - phosh
      enabled: false

  - type: systemd
    body:
      targets:
        - phrog
      enabled: true

  - name: Install ReadySet
    type: git
    body:
      url: https://altlinux.space/alt-gnome/ReadySet.git
      command: |
        meson setup _build -Dpassword_check_backend=passwdqc -Dis_devel --prefix=/usr
        meson install -C _build
      deps:
        - shadow-utils
        - accountsservice
        - libaccountsservice
        - libadwaita
        - libgee0.8
        - glib2
        - libgnome-desktop3
        - libgtk4
        - libpasswdqc
        - libibus
        - libpeas2
        - libpolkit
        - gnome-control-center-data
      build-deps:
        - libgtk4-gir-devel
        - libpeas2-gir-devel
        - pkgconfig(accountsservice)
        - pkgconfig(gee-0.8)
        - pkgconfig(gio-unix-2.0)
        - pkgconfig(gnome-desktop-4)
        - pkgconfig(ibus-1.0)
        - pkgconfig(libadwaita-1)
        - pkgconfig(libpeas-2)
        - pkgconfig(passwdqc)
        - pkgconfig(polkit-gobject-1)
        - pkgconfig(pwquality)
        - pkgconfig(systemd)
        - blueprint-compiler
        - gobject-introspection-devel
        - gcc14
        - meson
        - vala
